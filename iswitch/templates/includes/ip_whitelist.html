<div style="padding: 1.5rem;">
    <!-- IP Whitelist Table -->
    <div style="background: white; border-radius: 12px; padding: 1.5rem; border: 1px solid #e5e7eb;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem;">
            <h3
                style="margin: 0; font-size: 1.125rem; font-weight: 600; color: #1f2937; display: flex; align-items: center; gap: 0.5rem;">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20"
                    style="color: #667eea;">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                </svg>
                Whitelisted IP Addresses
            </h3>
            <button onclick="openAddIPDialog()"
                style="padding: 0.625rem 1.25rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 8px; font-weight: 600; font-size: 0.875rem; cursor: pointer; transition: all 0.2s; box-shadow: 0 2px 4px rgba(102, 126, 234, 0.3); display: flex; align-items: center; gap: 0.5rem; white-space: nowrap;"
                onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 4px 8px rgba(102, 126, 234, 0.4)'"
                onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 4px rgba(102, 126, 234, 0.3)'">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="18" height="18">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                </svg>
                Whitelist IP
            </button>
        </div>

        {% if whitelisted_ips %}
        <div class="table-container" style="overflow-x: visible;">
            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="background: #f9fafb; border-bottom: 2px solid #e5e7eb;">
                        <th
                            style="padding: 0.75rem; text-align: left; font-size: 0.75rem; font-weight: 600; color: #6b7280; text-transform: uppercase; letter-spacing: 0.5px;">
                            IP Address</th>
                        <th
                            style="padding: 0.75rem; text-align: left; font-size: 0.75rem; font-weight: 600; color: #6b7280; text-transform: uppercase; letter-spacing: 0.5px;">
                            Status</th>
                        <th
                            style="padding: 0.75rem; text-align: left; font-size: 0.75rem; font-weight: 600; color: #6b7280; text-transform: uppercase; letter-spacing: 0.5px;">
                            Added On</th>
                        <th
                            style="padding: 0.75rem; text-align: center; font-size: 0.75rem; font-weight: 600; color: #6b7280; text-transform: uppercase; letter-spacing: 0.5px;">
                            Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for ip in whitelisted_ips %}
                    <tr style="border-bottom: 1px solid #e5e7eb;" id="ip-row-{{ ip.name }}">
                        <td
                            style="padding: 1rem 0.75rem; font-size: 0.875rem; color: #1f2937; font-family: monospace; font-weight: 600;"
                            data-label="IP Address">
                            {{ ip.whitelisted_ip }}</td>
                        <td style="padding: 1rem 0.75rem;" data-label="Status">
                            <span
                                style="padding: 0.25rem 0.75rem; background: #d1fae5; color: #065f46; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">Active</span>
                        </td>
                        <td style="padding: 1rem 0.75rem; font-size: 0.875rem; color: #6b7280;" data-label="Added On">{{
                            ip.creation.strftime("%d %b %Y") if ip.creation else "-" }}</td>
                        <td style="padding: 1rem 0.75rem; text-align: center;" data-label="Actions">
                            <button onclick="deleteIPAddress('{{ ip.name }}')"
                                style="padding: 0.5rem 1rem; background: #fee2e2; color: #991b1b; border: 1px solid #fecaca; border-radius: 6px; font-size: 0.8125rem; font-weight: 600; cursor: pointer; transition: all 0.2s; min-height: 44px;"
                                onmouseover="this.style.background='#fecaca'"
                                onmouseout="this.style.background='#fee2e2'">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="14" height="14"
                                    style="display: inline-block; vertical-align: middle; margin-right: 0.25rem;">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                </svg>
                                Delete
                            </button>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <div style="text-align: center; padding: 3rem; color: #6b7280;">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="64" height="64"
                style="margin: 0 auto 1rem; opacity: 0.3;">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
            </svg>
            <p style="margin: 0; font-size: 1rem; font-weight: 500;">No IP addresses whitelisted yet</p>
            <p style="margin: 0.5rem 0 0 0; font-size: 0.875rem;">Click "Whitelist IP" to whitelist your first IP</p>
        </div>
        {% endif %}
    </div>
</div>