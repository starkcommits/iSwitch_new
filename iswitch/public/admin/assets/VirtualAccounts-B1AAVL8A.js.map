{"version":3,"file":"VirtualAccounts-B1AAVL8A.js","sources":["../../../../admin/src/pages/VirtualAccounts.vue"],"sourcesContent":["<template>\n    <div class=\"p-6 space-y-6\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <h1 class=\"text-2xl font-bold tracking-tight\">Virtual Accounts</h1>\n          <p class=\"text-muted-foreground mt-2\">Manage your virtual bank accounts.</p>\n        </div>\n\n      </div>\n\n      <!-- Loading State -->\n      <div v-if=\"loading\" class=\"flex items-center justify-center h-64\">\n        <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\n      </div>\n\n      <!-- Data Table -->\n      <div v-else class=\"rounded-md border bg-card\">\n        <div class=\"relative w-full overflow-auto\">\n          <table class=\"w-full caption-bottom text-sm\">\n            <thead class=\"[&_tr]:border-b\">\n              <tr class=\"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\">\n                <th class=\"h-12 px-4 text-left align-middle font-medium text-muted-foreground\">Account Number</th>\n                <th class=\"h-12 px-4 text-left align-middle font-medium text-muted-foreground\">IFSC Code</th>\n                <th class=\"h-12 px-4 text-left align-middle font-medium text-muted-foreground\">Status</th>\n                <th class=\"h-12 px-4 text-left align-middle font-medium text-muted-foreground\">Merchant Name</th>\n              </tr>\n            </thead>\n            <tbody class=\"[&_tr:last-child]:border-0\">\n              <tr \n                v-for=\"account in virtualAccounts\" \n                :key=\"account.name\"\n                class=\"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\"\n              >\n                <td class=\"p-4 align-middle font-mono font-medium\">{{ account.account_number }}</td>\n                <td class=\"p-4 align-middle\">{{ account.ifsc }}</td>\n                <td class=\"p-4 align-middle\">\n                  <span \n                    class=\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold\"\n                    :class=\"{\n                      'bg-green-100 text-green-800 border-green-200': account.status === 'Active',\n                      'bg-yellow-100 text-yellow-800 border-yellow-200': account.status === 'Inactive',\n                      'bg-red-100 text-red-800 border-red-200': account.status === 'Frozen',\n                      'bg-secondary text-secondary-foreground': !['Active', 'Inactive', 'Frozen'].includes(account.status)\n                    }\"\n                  >\n                    {{ account.status }}\n                  </span>\n                </td>\n                <td class=\"p-4 align-middle\">{{ account.merchant_name }}</td>\n              </tr>\n              <tr v-if=\"virtualAccounts.length === 0\">\n                <td colspan=\"4\" class=\"p-4 align-middle text-center text-muted-foreground\">\n                  No virtual accounts found.\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { call } from 'frappe-ui'\n\nconst loading = ref(true)\nconst virtualAccounts = ref([])\n\n\nconst fetchVirtualAccounts = async () => {\n  try {\n    const response = await call('iswitch.admin_portal_api.get_virtual_accounts')\n    // Handle both wrapped and unwrapped responses\n    let data = response\n    if (response.message && typeof response.message === 'object' && !Array.isArray(response.message)) {\n      data = response.message\n    }\n    \n    if (data.success && Array.isArray(data.accounts)) {\n      virtualAccounts.value = data.accounts\n    } else if (Array.isArray(data)) { // Legacy fallback\n      virtualAccounts.value = data\n    }\n  } catch (error) {\n    console.error('Error fetching virtual accounts:', error)\n  } finally {\n    loading.value = false\n  }\n}\n\nonMounted(() => {\n  fetchVirtualAccounts()\n})\n</script>\n"],"names":["loading","ref","virtualAccounts","fetchVirtualAccounts","__async","response","call","data","error","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_cache","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","_renderList","account","_hoisted_7","_toDisplayString","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11"],"mappings":"mvBAkEA,MAAMA,EAAUC,EAAI,EAAI,EAClBC,EAAkBD,EAAI,CAAA,CAAE,EAGxBE,EAAuB,IAAYC,EAAA,sBACvC,GAAI,CACF,MAAMC,EAAW,MAAMC,EAAK,+CAA+C,EAE3E,IAAIC,EAAOF,EACPA,EAAS,SAAW,OAAOA,EAAS,SAAY,UAAY,CAAC,MAAM,QAAQA,EAAS,OAAO,IAC7FE,EAAOF,EAAS,SAGdE,EAAK,SAAW,MAAM,QAAQA,EAAK,QAAQ,EAC7CL,EAAgB,MAAQK,EAAK,SACpB,MAAM,QAAQA,CAAI,IAC3BL,EAAgB,MAAQK,EAE5B,OAASC,EAAO,CACd,QAAQ,MAAM,mCAAoCA,CAAK,CACzD,QAAC,CACCR,EAAQ,MAAQ,EAClB,CACF,GAEA,OAAAS,EAAU,IAAM,CACdN,EAAoB,CACtB,CAAC,UA5FGO,EAAA,EAAAC,EA0DM,MA1DNC,EA0DM,aAzDJC,EAMM,MAAA,CAND,MAAM,qCAAmC,CAC5CA,EAGM,MAAA,KAAA,CAFJA,EAAmE,KAAA,CAA/D,MAAM,mCAAmC,EAAC,kBAAgB,EAC9DA,EAA4E,IAAA,CAAzE,MAAM,4BAA4B,EAAC,oCAAkC,UAMjEb,EAAA,OAAXU,IAAAC,EAEM,MAFNG,EAEM,CAAA,GAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CADJF,EAA+E,MAAA,CAA1E,MAAM,6DAA6D,EAAA,KAAA,EAAA,QAI1EH,IAAAC,EA0CM,MA1CNK,EA0CM,CAzCJH,EAwCM,MAxCNI,EAwCM,CAvCJJ,EAsCQ,QAtCRK,EAsCQ,aArCNL,EAOQ,QAAA,CAPD,MAAM,mBAAiB,CAC5BA,EAKK,KAAA,CALD,MAAM,6EAA6E,EAAA,CACrFA,EAAkG,KAAA,CAA9F,MAAM,oEAAoE,EAAC,gBAAc,EAC7FA,EAA6F,KAAA,CAAzF,MAAM,oEAAoE,EAAC,WAAS,EACxFA,EAA0F,KAAA,CAAtF,MAAM,oEAAoE,EAAC,QAAM,EACrFA,EAAiG,KAAA,CAA7F,MAAM,oEAAoE,EAAC,eAAa,UAGhGA,EA4BQ,QA5BRM,EA4BQ,QA3BNR,EAqBKS,EAAA,KAAAC,EApBenB,EAAA,MAAXoB,QADTX,EAqBK,KAAA,CAnBF,IAAKW,EAAQ,KACd,MAAM,gFAENT,EAAoF,KAApFU,EAAoFC,EAA9BF,EAAQ,cAAc,EAAA,CAAA,EAC5ET,EAAoD,KAApDY,EAAoDD,EAApBF,EAAQ,IAAI,EAAA,CAAA,EAC5CT,EAYK,KAZLa,EAYK,CAXHb,EAUO,OAAA,CATL,SAAM,mFAAkF,CACR,+CAAAS,EAAQ,SAAM,SAAwF,kDAAAA,EAAQ,SAAM,WAAiF,yCAAAA,EAAQ,SAAM,kFAAiH,SAASA,EAAQ,MAAM,IAOxa,EAAAE,EAAAF,EAAQ,MAAM,EAAA,CAAA,IAGrBT,EAA6D,KAA7Dc,EAA6DH,EAA7BF,EAAQ,aAAa,EAAA,CAAA,YAE7CpB,EAAA,MAAgB,SAAM,OAAhCS,EAIK,KAAAiB,EAAA,CAAA,GAAAb,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAHHF,EAEK,KAAA,CAFD,QAAQ,IAAI,MAAM,sDAAqD,+BAE3E,EAAA"}