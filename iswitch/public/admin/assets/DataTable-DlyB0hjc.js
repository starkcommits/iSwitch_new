import{_ as R,e as p,c as h,a as r,d as y,b as n,t as l,r as V,F as m,A as k,l as U,o,n as C}from"./index-DeMjJ5Kn.js";const E={class:"w-full"},G={key:0,class:"flex items-center py-4"},O={class:"text-lg font-semibold tracking-tight"},z={class:"ml-auto flex items-center gap-2"},K={class:"rounded-md border bg-card text-card-foreground shadow-sm overflow-hidden max-w-full"},H={class:"relative w-full overflow-x-auto"},J={class:"w-full caption-bottom text-sm"},Q={class:"[&_tr]:border-b"},W={class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},X={key:0,class:"h-12 w-[50px] px-4 text-left align-middle [&:has([role=checkbox])]:pr-0"},Y=["checked","indeterminate"],Z=["onClick"],ee={class:"flex items-center gap-1"},te={key:0,width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",class:"opacity-50"},se={key:0,d:"M7 15l5 5 5-5"},re={key:1,d:"M7 9l5-5 5 5"},ne={key:2,d:"M8 9l4-4 4 4M8 15l4 4 4-4"},oe={class:"[&_tr:last-child]:border-0"},ae={key:0,class:"p-4 align-middle [&:has([role=checkbox])]:pr-0"},ie=["checked","onChange"],le={key:1},de={key:2},ce={key:3},ue={key:4},ge={key:1,class:"flex items-center justify-between px-2 py-4"},be={class:"text-sm text-muted-foreground"},he={key:0,class:"ml-2"},fe={class:"flex items-center space-x-2"},ve=["disabled"],ye={class:"flex items-center gap-1"},pe=["onClick"],me=["disabled"],ke={__name:"DataTable",props:{title:String,columns:{type:Array,required:!0},data:{type:Array,required:!0},pagination:{type:Boolean,default:!0},perPage:{type:Number,default:10},selectable:{type:Boolean,default:!1}},emits:["update:selection"],setup(d,{emit:B}){const f=d,S=B,u=p(1),g=p(""),v=p("asc"),i=p([]),x=h(()=>Math.ceil(f.data.length/f.perPage)),_=h(()=>(u.value-1)*f.perPage),D=h(()=>Math.min(_.value+f.perPage,f.data.length)),b=h(()=>{let e=[...f.data];return g.value&&e.sort((t,s)=>{const c=t[g.value],a=s[g.value];return v.value==="asc"?c>a?1:-1:c<a?1:-1}),e.slice(_.value,D.value)}),M=h(()=>b.value.length>0&&b.value.every(e=>i.value.includes(e))),$=h(()=>{const e=b.value.filter(t=>i.value.includes(t)).length;return e>0&&e<b.value.length}),P=e=>{e.target.checked?b.value.forEach(t=>{i.value.includes(t)||i.value.push(t)}):i.value=i.value.filter(t=>!b.value.includes(t)),S("update:selection",i.value)},I=e=>{const t=i.value.indexOf(e);t===-1?i.value.push(e):i.value.splice(t,1),S("update:selection",i.value)},N=h(()=>{const e=[];let s=Math.max(1,u.value-Math.floor(2.5)),c=Math.min(x.value,s+5-1);c-s<4&&(s=Math.max(1,c-5+1));for(let a=s;a<=c;a++)e.push(a);return e}),A=e=>{g.value===e?v.value=v.value==="asc"?"desc":"asc":(g.value=e,v.value="asc")},w=e=>{e>=1&&e<=x.value&&(u.value=e)},T=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),j=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",F=e=>e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",L=e=>{const t=(e==null?void 0:e.toLowerCase())||"";return t==="credit"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300 border-green-200":t==="debit"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300 border-blue-200":t==="processed"||t==="success"||t==="active"||t==="approved"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300 border-green-200":t==="processing"||t==="pending"||t==="queued"||t==="submitted"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300 border-yellow-200":t==="cancelled"||t==="reversed"||t==="failed"||t==="rejected"||t==="terminated"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300 border-red-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300 border-gray-200"},q=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"";return(e,t)=>(o(),r("div",E,[d.title||e.$slots.actions?(o(),r("div",G,[n("h3",O,l(d.title),1),n("div",z,[V(e.$slots,"actions",{},void 0,!0)])])):y("",!0),n("div",K,[n("div",H,[n("table",J,[n("thead",Q,[n("tr",W,[d.selectable?(o(),r("th",X,[n("input",{type:"checkbox",checked:M.value,indeterminate:$.value,class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary",onChange:P},null,40,Y)])):y("",!0),(o(!0),r(m,null,k(d.columns,s=>(o(),r("th",{key:s.key,class:C(["h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 whitespace-nowrap",{"cursor-pointer select-none hover:text-foreground":s.sortable}]),onClick:c=>s.sortable&&A(s.key)},[n("div",ee,[n("span",null,l(s.label),1),s.sortable?(o(),r("svg",te,[g.value===s.key&&v.value==="desc"?(o(),r("path",se)):g.value===s.key&&v.value==="asc"?(o(),r("path",re)):(o(),r("path",ne))])):y("",!0)])],10,Z))),128))])]),n("tbody",oe,[(o(!0),r(m,null,k(b.value,(s,c)=>(o(),r("tr",{key:c,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[d.selectable?(o(),r("td",ae,[n("input",{type:"checkbox",checked:i.value.includes(s),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary",onChange:a=>I(s)},null,40,ie)])):y("",!0),(o(!0),r(m,null,k(d.columns,a=>(o(),r("td",{key:a.key,class:"p-4 align-middle [&:has([role=checkbox])]:pr-0 whitespace-nowrap"},[V(e.$slots,`cell-${a.key}`,{row:s,value:s[a.key]},()=>[a.type==="badge"?(o(),r("span",{key:0,class:C(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold border",L(s[a.key])])},l(q(s[a.key])),3)):a.type==="currency"?(o(),r("span",le,l(T(s[a.key])),1)):a.type==="date"?(o(),r("span",de,l(j(s[a.key])),1)):a.type==="datetime"?(o(),r("span",ce,l(F(s[a.key])),1)):(o(),r("span",ue,l(s[a.key]),1))],!0)]))),128))]))),128))])])])]),d.pagination?(o(),r("div",ge,[n("div",be,[U(" Showing "+l(_.value+1)+" to "+l(D.value)+" of "+l(d.data.length)+" entries ",1),d.selectable&&i.value.length>0?(o(),r("span",he," ("+l(i.value.length)+" selected) ",1)):y("",!0)]),n("div",fe,[n("button",{class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-8 w-8 p-0",disabled:u.value===1,onClick:t[0]||(t[0]=s=>w(u.value-1))},[...t[2]||(t[2]=[n("span",{class:"sr-only"},"Go to previous page",-1),n("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("polyline",{points:"15 18 9 12 15 6"})],-1)])],8,ve),n("div",ye,[(o(!0),r(m,null,k(N.value,s=>(o(),r("button",{key:s,class:C(["inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-8 w-8",s===u.value?"bg-primary text-primary-foreground hover:bg-primary/90":"border border-input bg-background hover:bg-accent hover:text-accent-foreground"]),onClick:c=>w(s)},l(s),11,pe))),128))]),n("button",{class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-8 w-8 p-0",disabled:u.value===x.value,onClick:t[1]||(t[1]=s=>w(u.value+1))},[...t[3]||(t[3]=[n("span",{class:"sr-only"},"Go to next page",-1),n("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("polyline",{points:"9 18 15 12 9 6"})],-1)])],8,me)])])):y("",!0)]))}},_e=R(ke,[["__scopeId","data-v-eb9e330b"]]);export{_e as D};
//# sourceMappingURL=DataTable-DlyB0hjc.js.map
