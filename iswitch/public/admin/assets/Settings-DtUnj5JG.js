var F=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var q=(d,r)=>{var t={};for(var l in d)z.call(d,l)&&r.indexOf(l)<0&&(t[l]=d[l]);if(d!=null&&F)for(var l of F(d))r.indexOf(l)<0&&D.call(d,l)&&(t[l]=d[l]);return t};var S=(d,r,t)=>new Promise((l,u)=>{var i=p=>{try{w(t.next(p))}catch(g){u(g)}},c=p=>{try{w(t.throw(p))}catch(g){u(g)}},w=p=>p.done?l(p.value):Promise.resolve(p.value).then(i,c);w((t=t.apply(d,r)).next())});import{p as N,w as m,r as M,q as I,u as G,x as n,o as f,c as B,y as $,e as b,f as Y,a as h,b as s,g as y,k as C,l as V,h as x,j as _,d as P,t as k,z as L,F as H,A as J,v as K}from"./index-DtPjQBPP.js";import{S as Q,C as X,O as Z,c as U,x as ee,w as se,_ as ae}from"./utils-C7KKDxzb.js";const te={__name:"Tabs",props:{defaultValue:{type:String,required:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},activationMode:{type:String,required:!1},modelValue:{type:String,required:!1}},emits:["update:modelValue","update:modelValue"],setup(d,{emit:r}){const u=Q(d,r);return(i,c)=>(f(),N(n(X),I(G(n(u))),{default:m(()=>[M(i.$slots,"default")]),_:3},16))}},E={__name:"TabsTrigger",props:{value:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,default:void 0}},setup(d){const r=d,t=B(()=>{const c=r,{class:u}=c;return q(c,["class"])}),l=Z(t);return(u,i)=>(f(),N(n(ee),$(n(l),{class:n(U)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r.class)}),{default:m(()=>[M(u.$slots,"default")]),_:3},16,["class"]))}},le={__name:"TabsList",props:{loop:{type:Boolean,required:!1},class:{type:String,default:void 0}},setup(d){const r=d,t=B(()=>{const i=r,{class:l}=i;return q(i,["class"])});return(l,u)=>(f(),N(n(se),$(t.value,{class:n(U)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r.class)}),{default:m(()=>[M(l.$slots,"default")]),_:3},16,["class"]))}},A={__name:"TabsContent",props:{value:{type:[String,Number],required:!0},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:String,default:void 0}},setup(d){const r=d,t=B(()=>{const i=r,{class:l}=i;return q(i,["class"])});return(l,u)=>(f(),N(n(ae),$(t.value,{class:n(U)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r.class)}),{default:m(()=>[M(l.$slots,"default")]),_:3},16,["class"]))}},re={class:"max-w-4xl mx-auto p-6"},oe={class:"rounded-xl border bg-card text-card-foreground shadow-sm p-6 space-y-6"},ne={class:"space-y-4 max-w-2xl"},de={class:"space-y-2"},ie={class:"space-y-2"},ue={class:"space-y-2"},ce={class:"rounded-xl border bg-card text-card-foreground shadow-sm p-6 space-y-6"},me={class:"space-y-4 max-w-2xl"},pe={class:"space-y-2"},fe={class:"space-y-2"},ge={class:"space-y-2"},ve={class:"space-y-2"},be={class:"pt-4 space-y-2"},ye={key:0,class:"p-3 text-sm text-green-600 bg-green-50 border border-green-200 rounded-md"},xe={key:1,class:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md"},_e={class:"rounded-xl border bg-card text-card-foreground shadow-sm p-6 space-y-6"},we={class:"space-y-4 max-w-2xl"},he={class:"space-y-2"},ke=["value"],Se={class:"space-y-2"},Ve={class:"pt-4 space-y-2"},qe={key:0,class:"p-3 text-sm text-green-600 bg-green-50 border border-green-200 rounded-md"},Ce={key:1,class:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md"},Ee={__name:"Settings",setup(d){const r=b({name:"",email:"",role:""}),t=b({company_name:"",email:"",password:"",pancard:""}),l=b(!1),u=b(""),i=b(""),c=b({merchant_id:"",amount:""}),w=b(!1),p=b(""),g=b(""),R=b([]),O=()=>S(this,null,function*(){try{const o=yield C("iswitch.admin_portal_api.get_admin_profile"),e=(o==null?void 0:o.message)||o;e&&(r.value=e)}catch(o){console.error("Error fetching admin profile:",o)}}),T=()=>S(this,null,function*(){try{const o=yield C("iswitch.admin_portal_api.get_merchants",{page_size:100}),e=(o==null?void 0:o.message)||o;e&&e.merchants&&(R.value=e.merchants)}catch(o){console.error("Error fetching merchants:",o)}}),W=()=>S(this,null,function*(){var o,e;if(u.value="",i.value="",!t.value.company_name||!t.value.email||!t.value.password){i.value="Please fill all required fields";return}l.value=!0;try{const a=yield C("iswitch.admin_portal_api.onboard_merchant",{company_name:t.value.company_name,email:t.value.email,password:t.value.password,pancard:t.value.pancard||"PENDING"});a&&(a.success||(o=a.message)!=null&&o.success)?(u.value="Merchant created successfully!",t.value={company_name:"",email:"",password:"",pancard:""},T()):i.value=a.error||((e=a.message)==null?void 0:e.error)||"Failed to create merchant"}catch(a){console.error("Error creating merchant:",a),i.value="Error creating merchant: "+a.message}finally{l.value=!1}}),j=()=>S(this,null,function*(){var o,e,a;if(p.value="",g.value="",!c.value.merchant_id||!c.value.amount||parseFloat(c.value.amount)<=0){g.value="Please select a merchant and enter a valid positive amount";return}w.value=!0;try{const v=yield C("iswitch.admin_portal_api.credit_wallet",{merchant_id:c.value.merchant_id,amount:parseFloat(c.value.amount)});v&&(v.success||(o=v.message)!=null&&o.success)?(p.value=`Wallet recharged successfully! New Balance: ${v.new_balance||((e=v.message)==null?void 0:e.new_balance)}`,c.value.amount=""):g.value=v.error||((a=v.message)==null?void 0:a.error)||"Failed to recharge wallet"}catch(v){console.error("Error recharging wallet:",v),g.value="Error recharging wallet: "+v.message}finally{w.value=!1}});return Y(()=>{O(),T()}),(o,e)=>(f(),h("div",re,[e[27]||(e[27]=s("div",{class:"mb-8"},[s("h1",{class:"text-3xl font-bold tracking-tight"},"Settings"),s("p",{class:"text-muted-foreground mt-2"},"Manage your account and operational settings.")],-1)),y(n(te),{"default-value":"profile",class:"space-y-4"},{default:m(()=>[y(n(le),null,{default:m(()=>[y(n(E),{value:"profile"},{default:m(()=>[...e[9]||(e[9]=[V("Profile",-1)])]),_:1}),y(n(E),{value:"onboard"},{default:m(()=>[...e[10]||(e[10]=[V("Merchant Onboard",-1)])]),_:1}),y(n(E),{value:"wallet"},{default:m(()=>[...e[11]||(e[11]=[V("Wallet Recharge",-1)])]),_:1})]),_:1}),y(n(A),{value:"profile",class:"space-y-4"},{default:m(()=>[s("div",oe,[e[15]||(e[15]=s("div",null,[s("h3",{class:"text-lg font-semibold"},"Admin Profile"),s("p",{class:"text-sm text-muted-foreground mt-1"},"Your system administrator details.")],-1)),s("div",ne,[s("div",de,[e[12]||(e[12]=s("label",{class:"text-sm font-medium leading-none"},"Name",-1)),x(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>r.value.name=a),disabled:"",class:"flex h-10 w-full rounded-md border border-input bg-muted px-3 py-2 text-sm ring-offset-background opacity-50 cursor-not-allowed"},null,512),[[_,r.value.name]])]),s("div",ie,[e[13]||(e[13]=s("label",{class:"text-sm font-medium leading-none"},"Email",-1)),x(s("input",{type:"email","onUpdate:modelValue":e[1]||(e[1]=a=>r.value.email=a),disabled:"",class:"flex h-10 w-full rounded-md border border-input bg-muted px-3 py-2 text-sm ring-offset-background opacity-50 cursor-not-allowed"},null,512),[[_,r.value.email]])]),s("div",ue,[e[14]||(e[14]=s("label",{class:"text-sm font-medium leading-none"},"Role",-1)),x(s("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=a=>r.value.role=a),disabled:"",class:"flex h-10 w-full rounded-md border border-input bg-muted px-3 py-2 text-sm ring-offset-background opacity-50 cursor-not-allowed"},null,512),[[_,r.value.role]])])])])]),_:1}),y(n(A),{value:"onboard",class:"space-y-4"},{default:m(()=>[s("div",ce,[e[21]||(e[21]=s("div",null,[s("h3",{class:"text-lg font-semibold"},"Onboard New Merchant"),s("p",{class:"text-sm text-muted-foreground mt-1"},"Create a new merchant account and user.")],-1)),s("div",me,[s("div",pe,[e[16]||(e[16]=s("label",{class:"text-sm font-medium leading-none"},"Company Name",-1)),x(s("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=a=>t.value.company_name=a),placeholder:"Acme Corp",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},null,512),[[_,t.value.company_name]])]),s("div",fe,[e[17]||(e[17]=s("label",{class:"text-sm font-medium leading-none"},"Email",-1)),x(s("input",{type:"email","onUpdate:modelValue":e[4]||(e[4]=a=>t.value.email=a),placeholder:"admin@acme.com",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},null,512),[[_,t.value.email]])]),s("div",ge,[e[18]||(e[18]=s("label",{class:"text-sm font-medium leading-none"},"Password",-1)),x(s("input",{type:"password","onUpdate:modelValue":e[5]||(e[5]=a=>t.value.password=a),placeholder:"********",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},null,512),[[_,t.value.password]])]),s("div",ve,[e[19]||(e[19]=s("label",{class:"text-sm font-medium leading-none"},"PAN Card (Optional)",-1)),x(s("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=a=>t.value.pancard=a),placeholder:"AAAAA0000A",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},null,512),[[_,t.value.pancard]])]),s("div",be,[u.value?(f(),h("div",ye,k(u.value),1)):P("",!0),i.value?(f(),h("div",xe,k(i.value),1)):P("",!0),y(n(L),{onClick:W,loading:l.value},{default:m(()=>[...e[20]||(e[20]=[V(" Create Merchant ",-1)])]),_:1},8,["loading"])])])])]),_:1}),y(n(A),{value:"wallet",class:"space-y-4"},{default:m(()=>[s("div",_e,[e[26]||(e[26]=s("div",null,[s("h3",{class:"text-lg font-semibold"},"Wallet Recharge"),s("p",{class:"text-sm text-muted-foreground mt-1"},"Credit funds to a merchant's wallet.")],-1)),s("div",we,[s("div",he,[e[23]||(e[23]=s("label",{class:"text-sm font-medium leading-none"},"Select Merchant",-1)),x(s("select",{"onUpdate:modelValue":e[7]||(e[7]=a=>c.value.merchant_id=a),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},[e[22]||(e[22]=s("option",{value:"",disabled:""},"Select a merchant",-1)),(f(!0),h(H,null,J(R.value,a=>(f(),h("option",{key:a.name,value:a.name},k(a.company_name)+" ("+k(a.company_email)+") ",9,ke))),128))],512),[[K,c.value.merchant_id]])]),s("div",Se,[e[24]||(e[24]=s("label",{class:"text-sm font-medium leading-none"},"Amount (INR)",-1)),x(s("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=a=>c.value.amount=a),placeholder:"0.00",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},null,512),[[_,c.value.amount]])]),s("div",Ve,[p.value?(f(),h("div",qe,k(p.value),1)):P("",!0),g.value?(f(),h("div",Ce,k(g.value),1)):P("",!0),y(n(L),{onClick:j,loading:w.value},{default:m(()=>[...e[25]||(e[25]=[V(" Recharge Wallet ",-1)])]),_:1},8,["loading"])])])])]),_:1})]),_:1})]))}};export{Ee as default};
//# sourceMappingURL=Settings-DtUnj5JG.js.map
