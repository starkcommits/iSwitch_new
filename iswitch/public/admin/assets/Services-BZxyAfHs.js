var D=Object.defineProperty,E=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var m=(s,t,e)=>t in s?D(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,f=(s,t)=>{for(var e in t||(t={}))_.call(t,e)&&m(s,e,t[e]);if(p)for(var e of p(t))h.call(t,e)&&m(s,e,t[e]);return s},b=(s,t)=>E(s,N(t));var k=(s,t)=>{var e={};for(var c in s)_.call(s,c)&&t.indexOf(c)<0&&(e[c]=s[c]);if(s!=null&&p)for(var c of p(s))t.indexOf(c)<0&&h.call(s,c)&&(e[c]=s[c]);return e};var g=(s,t,e)=>new Promise((c,l)=>{var d=a=>{try{o(e.next(a))}catch(i){l(i)}},r=a=>{try{o(e.throw(a))}catch(i){l(i)}},o=a=>a.done?c(a.value):Promise.resolve(a.value).then(d,r);o((e=e.apply(s,t)).next())});import{D as U}from"./DataTable-CohwqIvT.js";import{b as M,c as x,g as P}from"./utils-BnhaCSB-.js";import{c as y,p as V,o as B,w as q,g as v,x as u,n as C,y as j,e as w,f as z,a as A,b as n,k as S,t as F}from"./index-73uOKjjS.js";const I={__name:"Switch",props:{checked:{type:Boolean,required:!1},onCheckedChange:{type:Function,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:checked"],setup(s,{emit:t}){const e=s,c=t,l=y(()=>{const a=e,{class:r}=a;return k(a,["class"])}),d=y(()=>({"onUpdate:checked":r=>c("update:checked",r)}));return(r,o)=>(B(),V(u(P),j(f(f({},l.value),d.value),{class:u(x)("peer inline-flex h-[20px] w-[36px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e.class)}),{default:q(()=>[v(u(M),{class:C(u(x)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0"))},null,8,["class"])]),_:1},16,["class"]))}},T={class:"space-y-6"},$={class:"rounded-xl border bg-card text-card-foreground shadow-sm overflow-hidden"},G={class:"flex items-center space-x-2"},O={__name:"Services",setup(s){const t=[{key:"product_name",label:"Service Name",sortable:!0},{key:"status",label:"Status",sortable:!1}],e=w([]),c=w(!1),l=()=>g(this,null,function*(){c.value=!0;try{const r=yield S("iswitch.admin_portal_api.get_services"),o=(r==null?void 0:r.message)||r;o&&o.services&&(e.value=o.services.map(a=>b(f({},a),{is_active:!!a.is_active})))}catch(r){console.error("Error fetching services:",r)}finally{c.value=!1}}),d=(r,o)=>g(this,null,function*(){const a=r.is_active;r.is_active=o;try{yield S("iswitch.admin_portal_api.toggle_service_status",{service_name:r.name,is_active:o})}catch(i){console.error("Error toggling service:",i),r.is_active=a}});return z(()=>{l()}),(r,o)=>(B(),A("div",T,[o[0]||(o[0]=n("div",{class:"flex items-center justify-between"},[n("div",null,[n("h1",{class:"text-3xl font-bold tracking-tight text-foreground"},"Services"),n("p",{class:"text-muted-foreground mt-1"},"Manage active services and products.")])],-1)),n("div",$,[v(U,{columns:t,data:e.value,"per-page":20},{"cell-status":q(({row:a})=>[n("div",G,[v(u(I),{checked:a.is_active,"onUpdate:checked":i=>d(a,i)},null,8,["checked","onUpdate:checked"]),n("span",{class:C(["text-sm font-medium",a.is_active?"text-green-600":"text-gray-500"])},F(a.is_active?"Active":"Inactive"),3)])]),_:1},8,["data"])])]))}};export{O as default};
//# sourceMappingURL=Services-BZxyAfHs.js.map
