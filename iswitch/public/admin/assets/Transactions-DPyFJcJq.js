var b=(g,s,r)=>new Promise((i,l)=>{var d=e=>{try{a(r.next(e))}catch(o){l(o)}},u=e=>{try{a(r.throw(e))}catch(o){l(o)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(d,u);a((r=r.apply(g,s)).next())});import{_ as p,e as c,f as v,a as x,b as t,l as k,h as f,v as y,i as w,j as m,g as _,w as D,k as h,o as T,n as S,t as A}from"./index-73uOKjjS.js";import{D as C}from"./DataTable-CohwqIvT.js";const M={class:"space-y-6"},V={class:"flex items-center justify-between"},E={class:"rounded-xl border bg-card text-card-foreground shadow-sm p-6 mb-6"},F={class:"flex flex-wrap items-end gap-4"},I={class:"flex-1 min-w-[200px]"},N={class:"flex-1 min-w-[200px]"},U={class:"flex-1 min-w-[200px]"},P={class:"rounded-xl border bg-card text-card-foreground shadow-sm overflow-hidden"},j={__name:"Transactions",setup(g){const s=c({status:"",fromDate:"",toDate:""}),r=[{key:"id",label:"Transaction ID",sortable:!0},{key:"merchant",label:"Merchant",sortable:!0},{key:"order_id",label:"Order ID",sortable:!0},{key:"product_name",label:"Product",sortable:!0},{key:"amount",label:"Amount",type:"currency",sortable:!0},{key:"status",label:"Status",type:"badge",sortable:!0},{key:"integration",label:"Integration",sortable:!0},{key:"utr",label:"UTR",sortable:!0},{key:"date",label:"Date",type:"datetime",sortable:!0}],i=c([]),l=c(!1),d=()=>b(this,null,function*(){l.value=!0;try{const a={status:s.value.status||null,from_date:s.value.fromDate||null,to_date:s.value.toDate||null},e=yield h("iswitch.admin_portal_api.get_transactions",{filter_data:JSON.stringify(a),page:1,page_size:50}),o=(e==null?void 0:e.message)||e;o&&o.transactions&&(i.value=o.transactions.map(n=>({id:n.id,merchant:n.merchant_name||"N/A",order_id:n.order_id||"-",product_name:n.product_name||"-",amount:parseFloat(n.amount||0),status:n.status.toLowerCase(),integration:n.integration||"-",utr:n.utr||"-",date:n.date})))}catch(a){console.error("Error fetching transactions:",a),i.value=[]}finally{l.value=!1}}),u=()=>{d()};return v(()=>{d()}),(a,e)=>(T(),x("div",M,[t("div",V,[e[5]||(e[5]=t("div",null,[t("h1",{class:"text-3xl font-bold tracking-tight text-foreground"},"Transactions"),t("p",{class:"text-muted-foreground mt-1"},"View and manage all financial transactions.")],-1)),t("button",{class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",onClick:e[0]||(e[0]=(...o)=>a.exportLedger&&a.exportLedger(...o))},[...e[4]||(e[4]=[t("svg",{class:"mr-2 h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t("polyline",{points:"7 10 12 15 17 10"}),t("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1),k(" Export ",-1)])])]),t("div",E,[e[10]||(e[10]=t("h3",{class:"text-lg font-semibold mb-4"},"Filters",-1)),t("div",F,[t("div",I,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-muted-foreground mb-2"},"STATUS",-1)),f(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.value.status=o),class:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},[...e[6]||(e[6]=[w('<option value="" data-v-87659cc7>All Status</option><option value="Success" data-v-87659cc7>Success</option><option value="Pending" data-v-87659cc7>Pending</option><option value="Processing" data-v-87659cc7>Processing</option><option value="Failed" data-v-87659cc7>Failed</option><option value="Reversed" data-v-87659cc7>Reversed</option>',6)])],512),[[y,s.value.status]])]),t("div",N,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-muted-foreground mb-2"},"FROM DATE & TIME",-1)),f(t("input",{type:"datetime-local","onUpdate:modelValue":e[2]||(e[2]=o=>s.value.fromDate=o),class:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},null,512),[[m,s.value.fromDate]])]),t("div",U,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-muted-foreground mb-2"},"TO DATE & TIME",-1)),f(t("input",{type:"datetime-local","onUpdate:modelValue":e[3]||(e[3]=o=>s.value.toDate=o),class:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},null,512),[[m,s.value.toDate]])]),t("button",{class:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-6",onClick:u}," Apply Filters ")])]),t("div",P,[_(C,{columns:r,data:i.value,"per-page":10},{"cell-status":D(({value:o})=>[t("span",{class:S(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":o==="success","bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":o==="processing"||o==="pending","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":o==="failed"||o==="reversed"}])},A(o.charAt(0).toUpperCase()+o.slice(1)),3)]),_:1},8,["data"])])]))}},L=p(j,[["__scopeId","data-v-87659cc7"]]);export{L as default};
//# sourceMappingURL=Transactions-DPyFJcJq.js.map
